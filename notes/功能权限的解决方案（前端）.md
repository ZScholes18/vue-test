# 功能权限的解决方案(前端)

前提：已从后端获取权限信息。

过程

1. 获取到权限列表，json
2. 冻结json对象， 防止恶意篡改 => Object.freeze()
3. 异步导入组件
4. template中判断功能权限，通过v-if来渲染组件，没有功能权限的组件将不会从服务器加载

注意事项：

每一个拥有权限控制的组件，无论粒度多小，如不同功能模块的新建、编辑等按钮，都要单独分别封装成组件。原因如下：
1. 业务逻辑上来说，它们都对应不同的业务功能，尽管长得一样。
2. 异步组件在渲染时加载一次，就会缓存在浏览器，因此，如果不分别封装，极有可能会同时从服务器获取组件，从而暴露出不希望用户看到的信息，如url等。

exmaple

```javascript
    verify.js
```
